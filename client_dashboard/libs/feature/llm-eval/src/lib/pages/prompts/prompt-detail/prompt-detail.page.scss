/* Path: libs/feature/llm-eval/src/lib/pages/prompts/prompt-detail/prompt-detail.page.scss */
@import '../../../../../../../styles/variables';
@import '../../../../../../../styles/mixins';

:host {
  display: block;
  width: 100%;
}

.prompt-detail-container {
  max-width: $container-lg;
  margin: 0 auto;
  padding: $spacing-6;

  @include media-breakpoint-down(md) {
    padding: $spacing-4;
  }

  .back-navigation {
    margin-bottom: $spacing-6;

    .back-button {
      display: flex;
      align-items: center;
      gap: $spacing-2;
      background: none;
      border: none;
      color: $primary;
      font-size: $font-size-sm;
      padding: $spacing-2;
      cursor: pointer;
      border-radius: $radius-sm;
      transition: background-color 0.2s;

      &:hover {
        background-color: $background-light;
      }

      .back-icon {
        font-size: $font-size-md;
      }
    }
  }

  .loading-container {
    @include loading-container;
    @include card-padded;
    margin-bottom: $spacing-6;
  }

  .error-container {
    @include error-container;
    @include card-padded;
    margin-bottom: $spacing-6;
  }

  .prompt-details {
    .detail-header {
      @include card-padded;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: $spacing-6;

      @include media-breakpoint-down(md) {
        flex-direction: column;
        gap: $spacing-4;
      }

      .header-content {
        .detail-title {
          font-size: $font-size-2xl;
          font-weight: $font-weight-bold;
          margin: 0 0 $spacing-4;
          color: $text-primary;
        }

        .detail-badges {
          display: flex;
          flex-wrap: wrap;
          gap: $spacing-2;

          .detail-badge {
            padding: $spacing-1 $spacing-2;
            border-radius: $radius-sm;
            font-size: $font-size-xs;
            font-weight: $font-weight-medium;
          }

          .version-badge {
            background-color: $background-light;
            color: $text-secondary;
          }

          .public-badge {
            @include badge($success-light, $success);
          }

          .private-badge {
            @include badge($warning-light, $warning);
          }

          .template-badge {
            @include badge($info-light, $info);
          }
        }
      }

      .header-actions {
        display: flex;
        gap: $spacing-3;

        @include media-breakpoint-down(md) {
          width: 100%;
          justify-content: flex-start;
        }
      }
    }

    .detail-section {
      @include card-padded;
      margin-bottom: $spacing-6;

      &:last-child {
        margin-bottom: 0;
      }

      .section-title {
        @include section-title;
        border-bottom: 1px solid $border-color;
        padding-bottom: $spacing-3;
        margin-bottom: $spacing-4;
      }

      &.metadata-section {
        display: flex;
        flex-wrap: wrap;
        gap: $spacing-6;

        .meta-item {
          min-width: 200px;

          .meta-label {
            font-weight: $font-weight-medium;
            color: $text-secondary;
            margin-bottom: $spacing-1;
            display: block;
            font-size: $font-size-sm;
          }

          .meta-value {
            color: $text-primary;
            font-size: $font-size-base;
          }
        }
      }

      &.description-section {
        .description-content {
          font-size: $font-size-base;
          line-height: $line-height-normal;
          color: $text-primary;
          margin: 0;
        }
      }

      &.content-section {
        .content-wrapper {
          background-color: $background-light;
          border: 1px solid $border-color;
          border-radius: $radius-sm;
          padding: $spacing-4;
          overflow: auto;

          .content-preview {
            font-family: $font-family-mono;
            font-size: $font-size-sm;
            line-height: $line-height-normal;
            white-space: pre-wrap;
            color: $text-primary;
            margin: 0;
          }
        }
      }

      &.parameters-section {
        .parameters-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: $spacing-4;

          .parameter-item {
            background-color: $background-light;
            border: 1px solid $border-color;
            border-radius: $radius-sm;
            padding: $spacing-3;

            .parameter-name {
              font-weight: $font-weight-semibold;
              margin-bottom: $spacing-1;
              color: $text-primary;
              font-size: $font-size-sm;
            }

            .parameter-value {
              color: $text-secondary;
              font-size: $font-size-sm;
              word-break: break-word;
            }
          }
        }
      }

      &.evaluations-section {
        .no-evaluations {
          font-style: italic;
          color: $text-secondary;
          padding: $spacing-4;
          background-color: $background-light;
          border-radius: $radius-sm;
          text-align: center;
        }
      }
    }
  }
}